<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <script src="//unpkg.com/alpinejs" defer></script>
</head>

<body>
    <div class="All" x-data="{ showCart: true,
        smallPizzaTotal : 0.00,
        smallPizzaQty : 0,
         mediumPizzaTotal : 0.00,
         mediumPizzaQty : 0, 
         largePizzaTotal : 0.00,
         largePizzaQty : 0,
         payNow : false,
         paymentAmount : 0,
         paymentMessage : '',
        cartTotal() {
            return this.smallPizzaTotal + this.mediumPizzaTotal + this.largePizzaTotal
        },
        buySmallPizza() {
            this.smallPizzaTotal += 29.99;
            this.smallPizzaQty += 1
        },

        clearSmallPizza() {
            if (this.smallPizzaQty > 0) {
                this.smallPizzaTotal -= 29.99;
            this.smallPizzaQty -= 1
            }
        },
        buyMediumPizza() {
            this.mediumPizzaTotal += 69.99;
            this.mediumPizzaQty += 1
        },
        clearMediumPizza() {
            if (this.mediumPizzaQty > 0) {
                this.mediumPizzaTotal -= 69.99;
            this.mediumPizzaQty -= 1
            }
        },

        buyLargePizza() {
            this.largePizzaTotal += 129.99;
            this.largePizzaQty += 1
        },
        clearLargePizza() {
            if (this.largePizzaQty > 0) {
                this.largePizzaTotal -= 129.99;
            this.largePizzaQty -= 1
            }
        },
        makePayment() {
            <!-- alert('!') -->
            if (this.paymentAmount) {
                this.paymentMessage = 'Sorry- that is not enough money!'
               
                setTimeout (() => {
                    this.payNow = false;
                    this.clearCart()
                }, 3000); 

            }
            if (this.paymentAmount >= this.cartTotal()) {
                this.paymentMessage = 'Enjoy your pizza!'
                this.clearCart();
            }   
        },
        clearCart() {
        this.smallPizzaTotal = 0.00;
        this.smallPizzaQty = 0;
         this.mediumPizzaTotal = 0.00;
         this.mediumPizzaQty = 0;
         this.largePizzaTotal = 0.00;
         this.largePizzaQty = 0;
        }
    }">

        <!-- <div> -->
        <h1 class="Header">Zandile's Perfect Pizza</h1>
        <!-- </div> -->

        <div class="f1">
            <a href="" class="cart-link">
                <button x-on:click="showCart=true">
                    <img src="download.png" width="20" alt="">Show cart
                </button>
            </a>
        </div>



        <div class="cart-box">
            <div class="the-cart" x-show="showCart">
                <div>
                    <button x-on:click="showCart=false">Close cart</button>
                </div>
                <div class="">
                    <h2>Cart
                      
                    </h2>
                </div>





                <div class="cart">
                    <h2>Shopping Cart</h2>
                    <div class="small-cart">
                        <p>Small</p>
                        <span x-text="smallPizzaQty"></span>
                        <button x-on:click="buySmallPizza">+</button>
                        <button x-on:click="clearSmallPizza">-</button>
                        <div>
                            R<span x-text="smallPizzaTotal.toFixed(2)"></span>
                            </div>
                         
                        
                    </div>



                    <div class="medium-cart">
                        <p>Medium</p>
                        <span x-text="mediumPizzaQty"></span>
                        <button x-on:click="buyMediumPizza">+</button>
                        <button x-on:click="clearMediumPizza">-</button>
                        <div>
                            R<span x-text="mediumPizzaTotal.toFixed(2)"></span>
                        </div>
                    </div>

                    <div class="large-cart">
                        <p>Large</p>
                        <span x-text="largePizzaQty"></span>
                        <button x-on:click="buyLargePizza">+</button>
                        <button x-on:click="clearLargePizza">-</button>
                        <div>
                            R<span x-text="largePizzaTotal.toFixed(2)"></span>
                        </div>
                    </div>

                    <div class="Total-cost">Total cost
                        <div>
                            R<span x-text="cartTotal().toFixed(2)"></span>
                        </div>

                    </div>


                    <div class="Message-display">

                       
                    </div>

                    <div x-show="payNow">
                        <div class="Message-display">
                            <div>
                                <div class="message" x-text="paymentMessage">
                                    
                                </div>
                                <label for="">Payment amount</label>
                            <input class="input" type="number" placeholder="Payment amount" x-model="paymentAmount">
                            <button x-on:click="makePayment" class="btn">Check Out</button>
                            </div>
                            
                        </div>
                    </div>

                    

                    <!-- <div x-text="paymentAmount">
                    </div> -->

                    <button x-show="!payNow" x-on:click="payNow=true" class="btn">PAY</button>
                </div>

            </div>
        </div>

        <!-- <div class="align"> -->
            <div class="Container">
                <div class="align">
                    <div class="small">
                    <div class="container"></div>
                    <h2>Small Pizza</h2>
                    <img src="images.jpeg" width="200" height="120">
                    <h3>R29.99</h3>
                    <div>FLAVOURS:</div>
                    <div>
                        Chicken and Mushroom
                    </div>
                    <div>
                        BBQ Macon
                    </div>
                    <div>
                        Vegan
                    </div>
                    <div>Hawaiian</div>
                    <div small-button>
                        <button class="btn" x-on:click="buySmallPizza">
                            Order </button>
                    </div>
                </div>
                </div>

                <div class="align">
                    <div class="medium">
                    <h2>Medium Pizza</h2>
                    <img src="pizza.png" width="200" height="120">
                    <h3>R69.99</h3>
                    <div>FLAVOURS:</div>
                    <div>
                        Chicken and Mushroom
                    </div>
                    <div>
                        BBQ Macon
                    </div>
                    <div>
                        Vegan
                    </div>
                    <div>Hawaiian</div>
                    <div medium-button>
                        <button class="btn" x-on:click="buyMediumPizza">Order</button>
                    </div>
                </div>
                </div>

                <!-- <div class="align"> -->
                <div class="align">
                    <div class="large">
                    <h2 class=>Large Pizza</h2>
                    <img src="images (2).jpeg" width="200">
                    <h3>R129.99</h3>
                    <div>FLAVOURS:</div>
                    <div>
                        Chicken and Mushroom
                    </div>
                    <div>
                        BBQ Macon
                    </div>
                    <div>
                        Vegan
                    </div>
                    <div>Hawaiian</div>
                    <div large-button>
                        <button class="btn" x-on:click="buyLargePizza">Order</button>
                    </div>
                </div>
            </div>
                </div>
            </div>


            <div class="Contact-details">
                <h2>Contact details</h2>
                <div>Contact us at: 0612120198</div>
                <div>Email: ntuthukoyiga7@gmail.com</div>
                <div>Location: 7468 Sunrise View</div>
            </div>
        </div>

    </div>
</body>

</html>